<% include ../partials/header %>

    <div class="container">
        <div class="row">
            <div class="col-md-3">
                <p class="lead"><%=campground.name%></p>
                <div class="list-group">
                    <li class="list-group-item"><a id="overview" href="/campgrounds/<%= campground._id %>">Overview</a></li>
                    <li class="list-group-item active"><a id="book" href="/campgrounds/<%= campground._id %>/book">Book a night</a></li>
                </div>
            </div>
            <div class="col-md-9">
                <div class="thumbnail">     
                    <div class="caption-full">                                
                        <h3>
                            <%=campground.name%>
                        </h3>
                        <p>
                            <%= campground.description %>
                        </p>
                    </div>
                    <div class="pricing">
                        <form action="/campgrounds/<%=campground._id%>/book" method="POST">                            
                            <h5>Price per night($):</h5>
                            <div class="form-group">
                                <input class="form-control" type="number" name="price" value="<%= campground.price %>" disabled>
                            </div>
                            
                            <div class="form-group">
                                <input class="form-control" type="text" placeholder="first name" name="firstName">
                            </div>
                            
                            <div class="form-group">
                                <input class="form-control" type="text" placeholder="last name" name="lastName">
                            </div>

                            <div class="form-group">
                                <input class="form-control" type="email" placeholder="your email" name="email"> 
                            </div>

                            <h5>Start date:</h5> 
                            <div class="form-group">
                                <input class="form-control" id="startDate" type="date" name="startDate"> 
                            </div>                             

                            <h5>End date:</h5> 
                            <div class="form-group">
                                <input class="form-control" id="endDate" type="date" name="endDate"> 
                            </div> 
                            
                            <div class="form-group">
                                <input class="form-control" type="number" name="people" placeholder="number of people" min="1" step="1">
                            </div>        
                                                      
                            <div class="form-group">
                                 <button class="btn btn-lg btn-primary btn-block">Book</button>
                            </div>               
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script> 
        
        $(function(){
            var dtToday = new Date();

            var month = dtToday.getMonth() + 1;
            var day = dtToday.getDate();
            var year = dtToday.getFullYear();

            var endYear = dtToday.getFullYear() + 2;

            if(month < 10) {
                month = '0' + month.toString();
            }
                
            if(day < 10) {
                day = '0' + day.toString();
            }

            var minDate = year + '-' + month + '-' + day; 
            var maxDate = endYear + '-' + month + '-' + day; 

            $('#startDate').attr('min', minDate);
            $('#startDate').attr('max', maxDate);
            $('#endDate').attr('min', minDate);
            $('#endDate').attr('max', maxDate);
        });

    </script>

<% include ../partials/footer %>